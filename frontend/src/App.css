/* Professor de Programa√ß√£o: App.css (VERS√ÉO 10.0 - Visual 3D Pro + Placeholders Modernos) */

/* --- 1. GERAL E RESET --- */
body { 
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
  margin: 0; 
  background-color: #eef2f5; 
  height: 100vh; 
  overflow: hidden; 
}

/* Define a aplica√ß√£o como uma coluna flex√≠vel (Cabe√ßalho + Conte√∫do + Rodap√©) */
.App {
  display: flex;
  flex-direction: column;
  height: 100vh; 
  overflow: hidden;
}

/* --- 2. CABE√áALHO --- */
.app-header {
  display: flex; align-items: center;
  background: linear-gradient(135deg, #004a9f, #003370); 
  box-shadow: 0 4px 15px rgba(0, 50, 120, 0.3);
  padding: 25px 35px; 
  z-index: 100;
  flex-shrink: 0; 
  box-sizing: border-box;
  color: white;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.header-logo { 
  height: 70px; 
  margin-right: 20px; 
  transition: transform 0.3s;
}
.header-logo:hover { transform: scale(1.05); }

.header-texto h1 { 
  margin: 0; 
  font-size: 32px; 
  color: #ffffff; 
  font-weight: 700; 
  text-shadow: 0 2px 4px rgba(0,0,0,0.2); 
  line-height: 1.1; 
}
.header-texto h2 { 
  margin: 5px 0 0 0; 
  font-size: 14px; font-weight: 500; 
  color: rgba(255, 255, 255, 0.9); 
  text-transform: uppercase; letter-spacing: 1px;
}

.header-nav { margin-left: auto; display: flex; gap: 12px; align-items: center; }

.header-nav a { 
  text-decoration: none; 
  color: white; 
  font-weight: 600; font-size: 14px; 
  padding: 8px 18px; 
  border-radius: 20px; 
  background-color: rgba(255, 255, 255, 0.15); 
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s; 
}

.header-nav a:hover { 
  background-color: white; 
  color: #003370; 
  transform: translateY(-2px);
}

.btn-logout { 
  background-color: #ef4444; 
  color: white; border: none; padding: 8px 18px; border-radius: 20px; 
  font-weight: 600; cursor: pointer; 
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.btn-logout:hover { background-color: #dc2626; }

/* --- 3. ESTRUTURA DO LAYOUT --- */
.conteudo-pagina { 
  max-width: 100%; 
  padding: 0;
  flex: 1; 
  position: relative;
  min-height: 0; 
  overflow-y: auto; 
} 

main.layout-principal {
  display: grid;
  grid-template-columns: 480px 1fr; 
  height: 100%; 
  overflow: hidden; 
}

.painel-lateral {
  background-color: #f0fdf4; 
  padding: 15px; 
  border-right: 1px solid #dcfce7; 
  overflow-y: auto; 
}

.painel-principal {
  background-color: #f0f8ff; 
  padding: 20px; 
  overflow-y: auto; 
}

/* --- 4. CAIXAS DE BUSCA --- */
.barra-busca, .barra-busca-pequena {
  width: 100%; padding: 10px 15px; font-size: 15px;
  border: 1px solid #d1d5db; border-radius: 6px; outline: none; box-sizing: border-box;
  transition: border-color 0.2s;
}
.barra-busca:focus, .barra-busca-pequena:focus { border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37,99,235,0.1); }

/* --- 5. GRIDS --- */
/* --- 5. GRIDS (ATUALIZADO PARA RESPONSIVIDADE TOTAL) --- */
.grid-container-protocolos {
  display: grid;
  /* MUDAN√áA CR√çTICA: Em vez de 10 colunas fixas, usamos auto-fill inteligente */
  grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); 
  gap: 20px; /* Espa√ßo saud√°vel entre os cards */
  align-items: start;
  padding: 10px;
  width: 100%; /* Garante que usa a largura dispon√≠vel */
}

/* Mant√©m o grid lateral como est√° ou ajusta se necess√°rio */
.grid-categorias-lateral {
  display: grid;
  grid-template-columns: repeat(4, 1fr); 
  gap: 10px; 
}

.grid-categorias-4col {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
  gap: 30px 20px;
}

/* --- 6. CARDS (LIVROS) - L√ìGICA H√çBRIDA (DESKTOP vs MOBILE) --- */

.card-2d-container {
  display: flex; flex-direction: column; align-items: center;
  cursor: pointer; 
  /* Transi√ß√£o r√°pida para feedback imediato no toque */
  transition: transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
  position: relative; 
  border-radius: 6px;
  perspective: 1000px;
  -webkit-tap-highlight-color: transparent; /* Remove o quadrado azul padr√£o do Android */
}

.card-2d-link { text-decoration: none; color: inherit; display: block; }

/* =========================================
   üñ•Ô∏è COMPORTAMENTO DESKTOP (Mouse / Hover)
   S√≥ aplica rota√ß√£o 3D se a tela for grande
   ========================================= */
@media (min-width: 769px) {
  .card-2d-container:hover .capa-wrapper-categoria,
  .card-2d-container:hover .capa-wrapper-protocolo {
    /* Efeito de Levita√ß√£o e Rota√ß√£o 3D */
    transform: rotateY(-15deg) translateY(-10px) scale(1.02);
    
    /* Sombra deslocada + Glow Azulado */
    box-shadow: -15px 20px 30px rgba(0, 0, 0, 0.3), 
                0 0 15px rgba(59, 130, 246, 0.5); 
    
    border-left: 1px solid rgba(255, 255, 255, 0.6);
    z-index: 20;
  }
}

/* =========================================
   üì± COMPORTAMENTO MOBILE (Toque / Active)
   Usa :active para quando o dedo encosta na tela
   ========================================= */
@media (max-width: 768px) {
  .card-2d-container:active {
    /* Efeito "Tactile Press": O card encolhe levemente simulando um bot√£o f√≠sico */
    transform: scale(0.95);
  }

  .card-2d-container:active .capa-wrapper-categoria,
  .card-2d-container:active .capa-wrapper-protocolo {
    /* Efeito GLOW Intenso no Toque */
    box-shadow: 0 0 20px rgba(0, 123, 255, 0.8), 
                0 0 40px rgba(0, 123, 255, 0.4); 
    
    border-color: #3b82f6; /* Borda fica azul brilhante */
  }
}

/* --- MOLDURAS E ESTILOS VISUAIS (Atualizado v3.1.1 - Responsivo) --- */

/* 1. Estilos Compartilhados (Base para Categorias e Protocolos) */
.capa-wrapper-categoria, 
.capa-wrapper-protocolo {
  width: 100%;
  position: relative;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15); 
  border-radius: 4px; 
  overflow: hidden;
  background-color: #fff;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.4s ease;
  transform-style: preserve-3d;
}

/* 2. Espec√≠fico para Categorias (Mant√©m altura fixa retangular deitada) */
.capa-wrapper-categoria { 
  height: 140px; 
} 

/* 3. Espec√≠fico para Protocolos (Novo: Propor√ß√£o de Livro Inteligente) */
.capa-wrapper-protocolo { 
  /* Removemos a height fixa (height: 160px) */
  
  /* M√°gica do CSS Moderno: Mant√©m propor√ß√£o 3:4 sempre */
  aspect-ratio: 3 / 4; 
} 

/* 4. Estilo das Imagens (Preenchimento Total) */
.capa-wrapper-categoria .imagem-capa-2d,
.capa-wrapper-protocolo .imagem-capa-2d {
  width: 100%; 
  height: 100%; 
  
  /* 'cover' garante que a imagem preencha o card sem distorcer */
  object-fit: cover; 
  
  padding: 0; /* Removido padding para visual "borda a borda" */
  transition: filter 0.3s ease;
  background-color: #fff;
}

/* Placeholder Moderno (Gradiente) */
.placeholder-capa-categoria {
  height: 100%; width: 100%;
  background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
  color: rgba(255, 255, 255, 0.95); 
  display: flex; align-items: center; justify-content: center;
  padding: 10px; text-align: center; 
  font-weight: 800; font-size: 20px; 
  text-transform: uppercase; letter-spacing: 1px;
  position: relative;
}

.placeholder-capa-categoria::after {
  content: '';
  position: absolute;
  top: 6px; left: 6px; right: 6px; bottom: 6px;
  border: 1px dashed rgba(255, 255, 255, 0.3);
  border-radius: 4px;
}

.placeholder-capa-protocolo { height: 100%; width: 100%; background-color: #6b7280; }

.legenda-2d {
  text-align: center; font-weight: 600; font-size: 11px; margin: 8px 0 0 0;
  color: #374151; line-height: 1.2; word-wrap: break-word;
  transition: color 0.3s;
}

/* O texto tamb√©m fica azul no hover do Desktop */
@media (min-width: 769px) {
    .card-2d-container:hover .legenda-2d {
      color: #0284c7; 
    }
}

.contagem-2d { font-size: 10px; color: #6b7280; margin-top: 1px; text-align: center; display: block; }

/* --- 7. ADMIN (FORMUL√ÅRIO ALINHADO) --- */
.admin-painel { background-color: #fff; border: 1px solid #e5e7eb; border-radius: 8px; padding: 25px; margin-top: 30px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
.admin-painel h2 { color: #111827; border-bottom: 2px solid #e5e7eb; padding-bottom: 15px; margin-top: 0; }

.barra-busca-admin { width: 100%; padding: 10px 15px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; box-sizing: border-box; }

.form-linha { display: flex; gap: 20px; margin-bottom: 15px; }
.form-coluna { flex: 1; display: flex; flex-direction: column; }
.form-coluna label { margin-bottom: 5px; font-weight: 600; color: #334155; }
.form-coluna input[type="file"] { border: 1px dashed #cbd5e1; padding: 10px; background-color: #f8fafc; border-radius: 4px; cursor: pointer; }
.form-coluna input[type="text"], .form-coluna select { padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; }

.btn-salvar { 
  background-color: #10b981; color: white; border: none; padding: 12px; border-radius: 6px; 
  cursor: pointer; font-weight: 600; width: 100%; margin-top: 10px;
}
.btn-salvar:hover { background-color: #059669; }

.admin-painel ul { list-style: none; padding: 0; }
.admin-painel li { display: flex; justify-content: space-between; padding: 12px; border-bottom: 1px solid #eee; }
.admin-botoes { display: flex; gap: 8px; }
.btn-editar { background-color: #3b82f6; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; }
.btn-deletar { background-color: #ef4444; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; }
.btn-cancelar { background-color: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: 600;}

/* FIX PARA IMAGENS DO ADMIN (N√£o aplicar efeito 3D aqui) */
.admin-painel ul li img, 
.admin-capa-thumbnail {
  max-width: 50px !important; max-height: 70px !important; width: auto !important; height: auto !important;
  object-fit: contain; margin-right: 15px; border: 1px solid #ccc; border-radius: 4px; background-color: #fff;
  flex-shrink: 0; box-shadow: none !important; transform: none !important;
}
.admin-painel ul li:hover img { transform: none !important; filter: none !important; }


/* --- 8. LOGIN / RODAP√â --- */
.form-login { display: grid; grid-template-columns: 1fr; gap: 15px; text-align: left; margin-top: 20px; }
.form-login input { width: 100%; padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
.form-login button { padding: 12px 20px; font-size: 16px; }

.app-footer { 
  background-color: #0056b3; color: white; border-top: 1px solid rgba(255, 255, 255, 0.1); 
  padding: 10px 20px; width: 100%; box-sizing: border-box; flex-shrink: 0; 
}
.footer-container { max-width: 1000px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; text-align: center; gap: 5px; }
.footer-logo-img { height: 45px; object-fit: contain; margin-bottom: 2px; }
.footer-text p { margin: 2px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px; line-height: 1.4; }
.footer-version { font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-top: 5px; font-family: monospace; background: rgba(255, 255, 255, 0.15); padding: 1px 6px; border-radius: 8px; display: inline-block; }

/* Bot√µes de Favoritos */
.btn-favoritar { position: absolute; top: 5px; right: 5px; background-color: rgba(255, 255, 255, 0.8); border: 1px solid #ccc; border-radius: 50%; padding: 3px 5px; cursor: pointer; font-size: 18px; line-height: 1; z-index: 50; transition: background-color 0.2s; }
.btn-favoritar:hover { background-color: #ffcccc; transform: scale(1.1); }
.btn-remover-favorito { position: absolute; top: 5px; right: 5px; background-color: rgba(220, 50, 50, 0.9); border: 1px solid #dc3545; border-radius: 50%; padding: 3px 6px; cursor: pointer; font-size: 14px; line-height: 1; color: white; z-index: 60; transition: background-color 0.2s; }

/* --- DASHBOARD / BADGES --- */
.badge-total { background-color: #0056b3; color: white; font-size: 14px; font-weight: 700; padding: 4px 12px; border-radius: 20px; box-shadow: 0 2px 4px rgba(0, 86, 179, 0.3); display: inline-block; vertical-align: middle; }
.contador-categoria { font-size: 13px !important; color: #0056b3; background-color: #dbeafe; padding: 4px 10px; border-radius: 12px; margin-top: 5px; font-weight: 700 !important; transition: all 0.2s; border: 1px solid #bfdbfe; display: inline-block; }
.card-2d-container:hover .contador-categoria { background-color: #0056b3; color: white; }

.header-lateral-dashboard { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; flex-wrap: wrap; gap: 10px; }
.grupo-titulo-cat { display: flex; align-items: center; gap: 8px; }
.grupo-titulo-cat h3 { margin: 0; color: #0056b3; font-size: 18px; }
.badge-bolinha-azul { background-color: #0056b3; color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
.grupo-total-geral { display: flex; align-items: center; gap: 8px; background-color: #e0f2fe; padding: 5px 10px; border-radius: 8px; border: 1px solid #bae6fd; }
.label-total { font-size: 12px; font-weight: 600; color: #0056b3; }
.badge-retangulo-azul { background-color: #0056b3; color: white; padding: 4px 12px; min-width: 35px; text-align: center; border-radius: 6px; font-size: 14px; font-weight: bold; display: inline-block; }

/* --- BOT√ÉO VOLTAR (Outline Moderno) --- */
.btn-voltar-todos {
  display: inline-flex; align-items: center; gap: 8px; background-color: #fff; color: #0284c7; border: 2px solid #0284c7;
  padding: 8px 20px; border-radius: 30px; font-weight: 700; font-size: 0.95rem; cursor: pointer; transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 20px;
}
.btn-voltar-todos:hover { background-color: #0284c7; color: #fff; transform: translateX(-5px); box-shadow: 0 6px 12px rgba(2, 132, 199, 0.3); }

/* --- MOBILE --- */
@media (max-width: 768px) {
  main.layout-principal { display: block; height: auto; overflow: visible; }
  .painel-lateral, .painel-principal { width: 100%; border-right: none; padding: 15px; overflow-y: visible; }
  .painel-lateral { border-bottom: 2px solid #bbf7d0; background-color: #f0fdf4; }
  .grid-categorias-lateral { display: flex; overflow-x: auto; gap: 15px; padding-bottom: 10px; scrollbar-width: none; }
  .grid-categorias-lateral .card-2d-container { min-width: 100px; flex-shrink: 0; }
  .grid-container-protocolos { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 15px; }
  .capa-wrapper-categoria { height: 120px; } 
  .app-header { padding: 10px 15px; height: auto; flex-wrap: wrap; }
  .header-logo { height: 40px; margin-bottom: 5px; }
  .header-texto h1 { font-size: 18px; }
  .header-texto h2 { font-size: 12px; }
  .conteudo-pagina { padding: 15px !important; overflow-y: auto !important; -webkit-overflow-scrolling: touch; }
  .app-footer { padding: 15px 15px 85px 15px; text-align: center; }
  .footer-logo-img { height: 40px; }
}